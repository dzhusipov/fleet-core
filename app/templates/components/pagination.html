{% if pages > 1 %}
<nav class="flex items-center justify-between mt-4">
    <p class="text-sm text-gray-500 dark:text-gray-400">
        {{ _('common.showing', start=((page-1)*size+1), end=([page*size, total]|min), total=total) }}
    </p>
    <div class="flex gap-1">
        {% if page > 1 %}
        <a href="?page={{ page - 1 }}&size={{ size }}"
           class="px-3 py-1.5 text-sm rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700">
            &laquo;
        </a>
        {% endif %}
        {% for p in range(1, pages + 1) %}
            {% if p == page %}
            <span class="px-3 py-1.5 text-sm rounded-lg bg-primary-600 text-white">{{ p }}</span>
            {% elif p <= 3 or p >= pages - 2 or (p >= page - 1 and p <= page + 1) %}
            <a href="?page={{ p }}&size={{ size }}"
               class="px-3 py-1.5 text-sm rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700">
                {{ p }}
            </a>
            {% elif p == 4 or p == pages - 3 %}
            <span class="px-2 py-1.5 text-sm text-gray-400">...</span>
            {% endif %}
        {% endfor %}
        {% if page < pages %}
        <a href="?page={{ page + 1 }}&size={{ size }}"
           class="px-3 py-1.5 text-sm rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700">
            &raquo;
        </a>
        {% endif %}
    </div>
</nav>
{% endif %}
