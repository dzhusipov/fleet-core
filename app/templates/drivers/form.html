{% extends "base.html" %}
{% block title %}{% if driver %}{{ _('btn.edit') }}{% else %}{{ _('btn.create') }}{% endif %} â€” {{ _('nav.drivers') }}{% endblock %}
{% block page_title %}{% if driver %}{{ _('btn.edit') }}: {{ driver.full_name }}{% else %}{{ _('btn.create') }}{% endif %}{% endblock %}
{% block content %}
<div class="max-w-3xl">
    {% if error %}<div class="mb-4 p-3 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm">{{ error }}</div>{% endif %}
    <form method="POST" class="fc-card p-6 space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
                <label class="fc-label">{{ _('driver.full_name') }}</label>
                <input type="text" name="full_name" value="{{ driver.full_name if driver else '' }}" required class="fc-input">
            </div>
            <div>
                <label class="fc-label">{{ _('driver.employee_id') }}</label>
                <input type="text" name="employee_id" value="{{ driver.employee_id if driver and driver.employee_id else '' }}" class="fc-input">
            </div>
            <div>
                <label class="fc-label">{{ _('driver.phone') }}</label>
                <input type="text" name="phone" value="{{ driver.phone if driver and driver.phone else '' }}" class="fc-input">
            </div>
            <div>
                <label class="fc-label">{{ _('driver.email') }}</label>
                <input type="email" name="email" value="{{ driver.email if driver and driver.email else '' }}" class="fc-input">
            </div>
            <div>
                <label class="fc-label">{{ _('driver.license_number') }}</label>
                <input type="text" name="license_number" value="{{ driver.license_number if driver and driver.license_number else '' }}" class="fc-input">
            </div>
            <div>
                <label class="fc-label">{{ _('driver.license_category') }}</label>
                <input type="text" name="license_category" value="{{ driver.license_category if driver and driver.license_category else '' }}" class="fc-input">
            </div>
            <div>
                <label class="fc-label">{{ _('driver.department') }}</label>
                <input type="text" name="department" value="{{ driver.department if driver and driver.department else '' }}" class="fc-input">
            </div>
            {% if driver %}
            <div>
                <label class="fc-label">{{ _('common.status') }}</label>
                <select name="status" class="fc-select">
                    {% for s in statuses %}<option value="{{ s.value }}" {% if s.value == driver.status.value %}selected{% endif %}>{{ _('status.' + s.value) }}</option>{% endfor %}
                </select>
            </div>
            {% endif %}
        </div>
        <div>
            <label class="fc-label">{{ _('common.notes') }}</label>
            <textarea name="notes" rows="3" class="fc-textarea">{{ driver.notes if driver and driver.notes else "" }}</textarea>
        </div>
        <div class="flex items-center gap-3">
            <button type="submit" class="fc-btn-primary">{{ _('btn.save') }}</button>
            <a href="/drivers{% if driver %}/{{ driver.id }}{% endif %}" class="fc-btn-secondary">{{ _('btn.cancel') }}</a>
        </div>
    </form>
</div>
{% endblock %}
